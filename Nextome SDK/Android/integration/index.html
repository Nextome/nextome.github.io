
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="../../../material/library">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Getting started - Nextome Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.975780f9.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.2505c338.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="youtube" data-md-color-primary="" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#android-integration-getting-started" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Nextome Documentation" class="md-header__button md-logo" aria-label="Nextome Documentation" data-md-component="logo">
      
  <img src="../../../assets/logo-white.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Nextome Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Getting started
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Nextome Documentation" class="md-nav__button md-logo" aria-label="Nextome Documentation" data-md-component="logo">
      
  <img src="../../../assets/logo-white.svg" alt="logo">

    </a>
    Nextome Documentation
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Flutter Map
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Flutter Map" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Flutter Map
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../Flutter%20Map/" class="md-nav__link">
        Changelog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Nextome SDK
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Nextome SDK" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Nextome SDK
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../introduction/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_2" type="checkbox" id="__nav_3_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3_2">
          Android
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Android" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_2">
          <span class="md-nav__icon md-icon"></span>
          Android
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Getting started
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Getting started
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-include" class="md-nav__link">
    How to include
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retrive-sdk-credentials" class="md-nav__link">
    Retrive SDK Credentials
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-permissions" class="md-nav__link">
    Required permissions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sdk-initialization" class="md-nav__link">
    SDK Initialization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-localization" class="md-nav__link">
    Start localization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stop-localization" class="md-nav__link">
    Stop localization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observe-sdk-status" class="md-nav__link">
    Observe SDK status
  </a>
  
    <nav class="md-nav" aria-label="Observe SDK status">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nextome-sdk-state" class="md-nav__link">
    Nextome SDK State
  </a>
  
    <nav class="md-nav" aria-label="Nextome SDK State">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#idlestate" class="md-nav__link">
    IdleState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#startedstate" class="md-nav__link">
    StartedState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#searchvenuestate" class="md-nav__link">
    SearchVenueState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getpacketstate" class="md-nav__link">
    GetPacketState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#findfloorstate" class="md-nav__link">
    FindFloorState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localizationrunningstate" class="md-nav__link">
    LocalizationRunningState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorstate" class="md-nav__link">
    ErrorState
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observe-the-user-position" class="md-nav__link">
    Observe the user position
  </a>
  
    <nav class="md-nav" aria-label="Observe the user position">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nextomeposition" class="md-nav__link">
    NextomePosition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observe-errors" class="md-nav__link">
    Observe errors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../additional-features/" class="md-nav__link">
        Additional features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../background-service/" class="md-nav__link">
        Background-service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flutter-map-integration/" class="md-nav__link">
        Flutter map integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        Override default settings
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changelog/" class="md-nav__link">
        Android Changelog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3_3" type="checkbox" id="__nav_3_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3_3">
          iOS
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="iOS" data-md-level="2">
        <label class="md-nav__title" for="__nav_3_3">
          <span class="md-nav__icon md-icon"></span>
          iOS
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../iOS/integration/" class="md-nav__link">
        iOS Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../iOS/changelog/" class="md-nav__link">
        iOS Changelog
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    Prerequisites
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#how-to-include" class="md-nav__link">
    How to include
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#retrive-sdk-credentials" class="md-nav__link">
    Retrive SDK Credentials
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#required-permissions" class="md-nav__link">
    Required permissions
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sdk-initialization" class="md-nav__link">
    SDK Initialization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#start-localization" class="md-nav__link">
    Start localization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stop-localization" class="md-nav__link">
    Stop localization
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observe-sdk-status" class="md-nav__link">
    Observe SDK status
  </a>
  
    <nav class="md-nav" aria-label="Observe SDK status">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nextome-sdk-state" class="md-nav__link">
    Nextome SDK State
  </a>
  
    <nav class="md-nav" aria-label="Nextome SDK State">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#idlestate" class="md-nav__link">
    IdleState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#startedstate" class="md-nav__link">
    StartedState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#searchvenuestate" class="md-nav__link">
    SearchVenueState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#getpacketstate" class="md-nav__link">
    GetPacketState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#findfloorstate" class="md-nav__link">
    FindFloorState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#localizationrunningstate" class="md-nav__link">
    LocalizationRunningState
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#errorstate" class="md-nav__link">
    ErrorState
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observe-the-user-position" class="md-nav__link">
    Observe the user position
  </a>
  
    <nav class="md-nav" aria-label="Observe the user position">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nextomeposition" class="md-nav__link">
    NextomePosition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#observe-errors" class="md-nav__link">
    Observe errors
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    Next steps
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    Examples
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  
  




<h1 id="android-integration-getting-started">Android Integration - Getting started</h1>
<p>A full working example app is available on <a href="https://github.com/Nextome/nextome-phoenix-android-whitelabel">this repository</a>. Run the MapActivity to see Nextome Sdk in action. It also contains a seamless outdoor/indoor map integration using OpenStreetMap for outdoor and Nextome Flutter Map for indoor.</p>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li>Install or update Android Studio to its latest version</li>
<li>Make sure that your project meets these requirements: <ul>
<li>Target API: 32 or higher</li>
<li>Uses Android x or higher</li>
<li>Uses Jetpack(Android X)<ul>
<li><code>com.android.tools.build:gradle</code> v3.2.1 or later</li>
<li><code>compileSdkVersion</code> 32 or later</li>
</ul>
</li>
</ul>
</li>
<li>Have credentials for jFrog</li>
<li>Have credentials for our portal</li>
</ul>
<h2 id="how-to-include">How to include</h2>
<ol>
<li>
<p>Add our repositories in the Gradle Project Settings <code>settings.gradle.kts</code>:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">Groovy</label><label for="__tabbed_1_2">KTS</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><span class="filename">settings.gradle</span><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="n">dependencyResolutionManagement</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">    </span><span class="n">repositoriesMode</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">RepositoriesMode</span><span class="o">.</span><span class="na">FAIL_ON_PROJECT_REPOS</span><span class="o">)</span><span class="w"></span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="n">repositories</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">        </span><span class="o">...</span><span class="w"></span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">        </span><span class="n">maven</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="s2">&quot;https://jitpack.io&quot;</span><span class="w"> </span><span class="o">}</span><span class="w"></span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">        </span><span class="n">maven</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">            </span><span class="n">url</span><span class="w"> </span><span class="s2">&quot;https://nextome.jfrog.io/artifactory/nextome-libs-release-local&quot;</span><span class="w"></span>
<a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
<a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="w">            </span><span class="n">credentials</span><span class="w"> </span><span class="o">{</span><span class="w"></span>
<a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">                </span><span class="n">username</span><span class="w"> </span><span class="s2">&quot;USERNAME&quot;</span><span class="w"></span>
<a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">                </span><span class="n">password</span><span class="w"> </span><span class="s2">&quot;PASSWORD&quot;</span><span class="w"></span>
<a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="w">            </span><span class="o">}</span><span class="w"></span>
<a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a><span class="w">        </span><span class="o">}</span><span class="w"></span>
<a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a><span class="w">    </span><span class="o">}</span><span class="w"></span>
<a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a><span class="o">}</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">settings.gradle.kts</span><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">dependencyResolutionManagement</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">    </span><span class="n">repositoriesMode</span><span class="p">.</span><span class="na">set</span><span class="p">(</span><span class="n">RepositoriesMode</span><span class="p">.</span><span class="na">FAIL_ON_PROJECT_REPOS</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="n">repositories</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">        </span><span class="p">...</span><span class="w"></span>
<a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">        </span><span class="n">maven</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uri</span><span class="p">(</span><span class="s">&quot;https://jitpack.io)&quot;</span><span class="w"> </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">        </span><span class="n">maven</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">            </span><span class="n">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">uri</span><span class="p">(</span><span class="s">&quot;https://nextome.jfrog.io/artifactory/nextome-libs-release-local&quot;</span><span class="p">)</span><span class="w"></span>
<a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
<a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="w">            </span><span class="n">credentials</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">                </span><span class="n">username</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;USERNAME&quot;</span><span class="w"></span>
<a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="w">                </span><span class="n">password</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;PASSWORD&quot;</span><span class="w"></span>
<a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a><span class="w">            </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a><span class="w">        </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a><span class="w">    </span><span class="p">}</span><span class="w"></span>
<a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Contact Nextome to receive a valid username/password to access our repository.</p>
</div>
</li>
<li>
<p>In your module (app-level) Gradle file, add the dependency for the SDK:</p>
<div class="tabbed-set tabbed-alternate" data-tabs="2:2"><input checked="checked" id="__tabbed_2_1" name="__tabbed_2" type="radio" /><input id="__tabbed_2_2" name="__tabbed_2" type="radio" /><div class="tabbed-labels"><label for="__tabbed_2_1">Groovy</label><label for="__tabbed_2_2">KTS</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><span class="filename">project/build.gradle</span><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">implementation</span><span class="w"> </span><span class="s1">&#39;net.nextome.phoenix_sdk:phoenix-sdk:{last_version}&#39;</span><span class="w"></span>
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><span class="filename">project/build.gradle.kts</span><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">implementation</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;net.nextome.phoenix_sdk:phoenix-sdk:{last_version}&quot;</span><span class="p">)</span><span class="w"></span>
</code></pre></div>
</div>
</div>
</div>
<p>Check latest released version <a href="/docs/Nextome%20SDK/Android/changelog.md">here</a></p>
</li>
</ol>
<h2 id="retrive-sdk-credentials">Retrive SDK Credentials</h2>
<p>Log-in the web dashboard and retrieve the <code>Client</code> and <code>Secret Key</code> for the SDK.
Those credentials are available from your profile, in the Apps section. </p>
<p><img alt="Retrieve SDK Credentials" src="../../../assets/sdk_key.png" /></p>
<h2 id="required-permissions">Required permissions</h2>
<p>To run, Nextome SDK requires the following permissions:
<div class="highlight"><span class="filename">AndroidManifest.xml</span><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.INTERNET&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.BLUETOOTH&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.BLUETOOTH_ADMIN&quot;</span> <span class="nt">/&gt;</span>
<a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.FOREGROUND_SERVICE&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_FINE_LOCATION&quot;</span><span class="nt">/&gt;</span>
<a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>    <span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">&quot;android.permission.ACCESS_BACKGROUND_LOCATION&quot;</span> <span class="nt">/&gt;</span>
</code></pre></div></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Those are required to:</p>
<ul>
<li>Contact the backend server;</li>
<li>Activate and manage Bluetooth beacon scan;</li>
<li>Run as a foreground service for background mode;</li>
<li>Access Bluetooth API (location)</li>
</ul>
</div>
<h2 id="sdk-initialization">SDK Initialization</h2>
<p>To use Nextome SDK for Android initialize the NextomePhoenixSdk.</p>
<p>It requires the <code>application context</code>, the given <code>Client</code> and <code>Secret Key</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="w">    </span><span class="n">nextomeSdk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">NextomePhoenixSdk</span><span class="p">(</span><span class="w"></span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">        </span><span class="n">clientId</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CLIENT_ID</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">        </span><span class="n">clientSecret</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">CLIENT_SECRET</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">        </span><span class="n">context</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">context</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">ApplicationContext</span><span class="p">,</span><span class="w"></span>
<a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">    </span><span class="p">)</span><span class="w"></span>
</code></pre></div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>By default the SDK works with settings defined in the web portal.
The NextomePhoenixSdk constructor it is possible to override some of those as described in this section.
But please notice that this operation is extremely dangerous and should only be made in accordance with the Nextome Team because has an huge impact on the localization's performance.  </p>
</div>
<h2 id="start-localization">Start localization</h2>
<p>To start localization, call:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="n">nextomeSdk</span><span class="p">.</span><span class="na">start</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<p>If you want Nextome to keep track of user indoor position also while the phone screen is off or your app is in background explore the corresponding section [LINK HERE]</p>
<h2 id="stop-localization">Stop localization</h2>
<p>When you've done, stop the localization by calling:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="n">nextomeSdk</span><span class="p">.</span><span class="na">stop</span><span class="p">()</span><span class="w"></span>
</code></pre></div>
<h2 id="observe-sdk-status">Observe SDK status</h2>
<p>It's possible to observe the current state the Nextome SDK.</p>
<p>You can use this data to start initializing the map or showing messages to the users and update your UI accordingly.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kd">val</span><span class="w"> </span><span class="nv">state</span><span class="p">:</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="n">NextomeSdkState</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nextomeSdk</span><span class="p">.</span><span class="na">getStateObservable</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="n">state</span><span class="p">.</span><span class="na">asLiveData</span><span class="p">().</span><span class="na">observe</span><span class="p">(</span><span class="k">this</span><span class="p">){</span><span class="n">state</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h3 id="nextome-sdk-state">Nextome SDK State</h3>
<p><code>NextomeSdkState</code> is a simple state machine that can have different states:</p>
<figure>
<p><img alt="State Flows" src="../../../assets/flussoSDK.jpeg" />
  </p>
<figcaption>Nextome SDK State</figcaption>
</figure>
<h4 id="idlestate">IdleState</h4>
<p>Nextome SDK has been initialized but there is no active localization service running.</p>
<h4 id="startedstate">StartedState</h4>
<p>Nextome has been correctly initialized and started, it's ready to scan beacons;</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>isOutdoor: Bool</code></td>
<td align="left">Will always be true in this state</td>
</tr>
</tbody>
</table>
<h4 id="searchvenuestate">SearchVenueState</h4>
<p>Nextome is currently scanning nearby beacons to determine in which venue the user is; If the SDK is stuck here, you're probably outdoor.</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>isOutdoor: Bool</code></td>
<td align="left">Will always be true in this state</td>
</tr>
</tbody>
</table>
<h4 id="getpacketstate">GetPacketState</h4>
<p>Nextome knows the venue of the user and it's downloading from the server the associated resources (Maps, POIs, Patches...);</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>isOutdoor: Bool</code></td>
<td align="left">Will always be true in this state</td>
</tr>
<tr>
<td align="left"><code>venueId: Int</code></td>
<td align="left">The venueId of the venue found</td>
</tr>
</tbody>
</table>
<h4 id="findfloorstate">FindFloorState</h4>
<p>All the venue resources have been downloaded. Nextome is now computing in which floor the user is;</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>isOutdoor: Bool</code></td>
<td align="left">Will always be true in this state</td>
</tr>
<tr>
<td align="left"><code>venueId: Int</code></td>
<td align="left">The venueId of the venue found</td>
</tr>
<tr>
<td align="left"><code>venuePackage: NextomePackage</code></td>
<td align="left">Contains all the resources(beacons, pois, maps, events, path and settings) for a specific venue.</td>
</tr>
</tbody>
</table>
<h4 id="localizationrunningstate">LocalizationRunningState</h4>
<p>Nextome SDK is computing user positions. You can observe live user location using the observer nextomeSdk.locationLiveData;</p>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>isOutdoor: Bool</code></td>
<td align="left">Will always be true in this state</td>
</tr>
<tr>
<td align="left"><code>venueId: Int</code></td>
<td align="left">The venueId of the venue found</td>
</tr>
<tr>
<td align="left"><code>venuePackage: NextomePackage</code></td>
<td align="left">Contains all the resources(beacons, pois, maps, events, path and settings) for a specific venue.</td>
</tr>
<tr>
<td align="left"><code>isOutdoor: Bool</code></td>
<td align="left">Will always be true in this state</td>
</tr>
<tr>
<td align="left"><code>mapId: Int</code></td>
<td align="left">Will always be true in this state</td>
</tr>
<tr>
<td align="left"><code>isOutdoor: Bool</code></td>
<td align="left">Will always be true in this state</td>
</tr>
<tr>
<td align="left"><code>tileZipPath: String</code></td>
<td align="left">The path for the zip file which contains the tiles for the current map</td>
</tr>
<tr>
<td align="left"><code>mapHeight: Int</code></td>
<td align="left">The height in pixel of the map</td>
</tr>
<tr>
<td align="left"><code>mapWith: Int</code></td>
<td align="left">The width in pixel of the map</td>
</tr>
</tbody>
</table>
<h4 id="errorstate">ErrorState</h4>
<p>The SDK was stopped due to a fatal error. It exposes a NextomeException which can be either a GenericException or InvalidCredentialException.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul>
<li>If the user <strong>changes floor</strong>, the SDK will resume from <code>FIND_FLOOR</code> state.</li>
<li>If the user goes <strong>outdoor</strong>, the SDK will switch to <code>SEARCH_VENUE</code> state until a new indoor beacon is detected.</li>
</ul>
</div>
<h2 id="observe-the-user-position">Observe the user position</h2>
<p>Nextome SDK offers a flow to observe the user position:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kd">val</span><span class="w"> </span><span class="nv">state</span><span class="p">:</span><span class="w"> </span><span class="n">Flow</span><span class="o">&lt;</span><span class="n">NextomePosition</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">nextomeSdk</span><span class="p">.</span><span class="na">getLocalizationObservable</span><span class="p">()</span><span class="w"></span>
<a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="n">state</span><span class="p">.</span><span class="na">asLiveData</span><span class="p">().</span><span class="na">observe</span><span class="p">(</span><span class="k">this</span><span class="p">){</span><span class="n">position</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span>
<a id="__codelineno-9-3" name="__codelineno-9-3" href="#__codelineno-9-3"></a><span class="w">   </span><span class="n">log</span><span class="p">(</span><span class="s">&quot;Got indoor position (</span><span class="si">${</span><span class="nb">it</span><span class="p">.</span><span class="na">x</span><span class="si">}</span><span class="s">, </span><span class="si">${</span><span class="nb">it</span><span class="p">.</span><span class="na">y</span><span class="si">}</span><span class="s">), on map </span><span class="si">${</span><span class="nb">it</span><span class="p">.</span><span class="na">mapId</span><span class="si">}</span><span class="s"> in floor </span><span class="si">${</span><span class="nb">it</span><span class="p">.</span><span class="na">floorId</span><span class="si">}</span><span class="s">)&quot;</span><span class="p">)</span><span class="w"> </span>
<a id="__codelineno-9-4" name="__codelineno-9-4" href="#__codelineno-9-4"></a><span class="p">}</span><span class="w"></span>
</code></pre></div>
<h4 id="nextomeposition">NextomePosition</h4>
<table>
<thead>
<tr>
<th align="left">Property</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><code>x: Double</code></td>
<td align="left">The x coordinates of the localized point.</td>
</tr>
<tr>
<td align="left"><code>y: Double</code></td>
<td align="left">The y coordinates of the localized point.</td>
</tr>
<tr>
<td align="left"><code>venueId: Int</code></td>
<td align="left">The venueId of the venue found.</td>
</tr>
<tr>
<td align="left"><code>label: String?</code></td>
<td align="left">A label associated with the position.</td>
</tr>
</tbody>
</table>
<h2 id="observe-errors">Observe errors</h2>
<p>TO BE IMPLEMENTED</p>
<!-- 
## Debug tools
In case of necessity, Nextome SDK can write logs with useful info to a file.
You can start writing logs with `nextomeSdk.startLoggingOnFile()`. Those logs can then be shared using `nextomeSdk.stopAndShareLog(context)`. A new Intent will be fired with a share dialog that allows to export and save the logs with other apps.
-->

<h2 id="next-steps">Next steps</h2>
<ul>
<li>
<p>Visit <a href="../background-service/">Background-service</a> to learn how to use the SDK even when the app is not opened in the foreground.</p>
</li>
<li>
<p>See the <a href="../additional-features/">Additional features</a> available, like events observers.</p>
</li>
<li>
<p>Visit <a href="../flutter-map-integration/">Flutter map integration</a>if you want to use our library to display the indoor map.</p>
</li>
</ul>
<h2 id="examples">Examples</h2>
<p>A full working example app is available on this repository.
Run the <code>MapActivity</code> to see Nextome Sdk in action. It also contains a seamless outdoor/indoor map integration using <em>OpenStreetMap</em> for outdoor and <em>Nextome Flutter Map</em> for indoor.</p>
<p><br></p>
<p><strong>© 2021 Nextome srl | All Rights Reserved.</strong></p>





                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../../introduction/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Introduction" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Introduction
            </div>
          </div>
        </a>
      
      
        
        <a href="../additional-features/" class="md-footer__link md-footer__link--next" aria-label="Next: Additional features" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Additional features
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.sections", "content.code.annotate", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.5a2dcb6a.min.js"></script>
      
    
    
  </body>
</html>